<html lang="en">
<head>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1" />
	<link rel="stylesheet" type="text/css" href="../css/player.css">
</head>
<body layout="column">
	<div class="cell video">
		<button id="btnStart" disabled onclick="player.playPreloaded();" style="background:white;color:black;">Preloading...</button>
		<div class="container center" id="ad-container1">
		</div>
	</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://sdk.streamrail.com/afff6788-098a-4506-9ce7-e78a83d7519a/player/sr.js"></script>
<script type="text/javascript">
	var player =  window.player = SR('ad-container1', {
		tech: 'flash',
		companion: false,
		autoplay: true,
		preloadMode: true,
		width: 778,
		height: 468,
		  content: { // optionally show a content video after the ad
		  	url:'https://sdk.streamrail.com/demos/debugger/nasa_is_with_you_when_you_fly.mp4',
		  	id: 'nasa_is_with_you_when_you_fly.mp4',
		  	title: 'Nasa Video',
		  	description: 'Cool video by nasa',
		  	keywords: 'space,nasa',
		  	categories: 'science'
		  },
		  ads: {
		  	pauseOnClickThrough: true,
		  	schedule: [{
		  		position: 'pre-roll',
		  		server: {
		  			type: 'direct',
		  			tag: 'http://vast.bp3863356.btrll.com/vast/3863356?n=1431285260'
		  		}
		  	}]
		  }
		});

	['AdLoaded'
	,'AdStarted'
	,'AdImpression'
	,'AdVideoComplete'
	,'AdStopped'
	,'AdError'
	,'AdSkipped'
	,'AdVideoStart'
	,'AdClickThru'].map(function(i) {
		player.on(i, function(event, data) {
			console.log(i);
		});
	});
	player.on('AdError', function(event, data) {
		if (!data) {
			data = {
				code: event.code,
				description: event.description
			}
		}
		console.log(data);
	})
	player.on('AdLoaded', function() { // ad is preloaded
		$('#btnStart').attr('disabled', false);
		$('#btnStart').text('Start!');
	});

</script>
</body>
</html>
<html lang="en">
<head>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1" />
	<link rel="stylesheet" type="text/css" href="../css/player.css">
</head>
<body layout="column">
	<div class="cell video">
		<button id="btnStart" onclick="player.play();" style="background:white;color:black;">Start</button>
		<div class="container center" id="ad-container1">
		</div>
	</div>
</div>
<script src="https://sdk.streamrail.com/test/3762742e-0300-4fc6-a171-9e602bdda709/player/sr.dev.js"></script>
<script type="text/javascript">
	var player = SR('ad-container1', {
		tech: 'html5',
		companion: false,
		autoplay: false,
		width: 778,
		height: 468,
		ads: {
			url: 'https://ad3.liverail.com/?LR_PUBLISHER_ID=31&LR_CAMPAIGN_ID=229&LR_SCHEMA=vast2',
			skip: {
				enabled: true
			}
		}
	});

	['AdLoaded'
	,'AdStarted'
	,'AdImpression'
	,'AdVideoComplete'
	,'AdStopped'
	,'AdError'
	,'AdSkipped'
	,'AdVideoStart'
	,'AdClickThru'].map(function(i) {
		player.on(i, function(event, data) {
			console.log(i);
		});
	});

	player.hide();
	player.vast.preload()
	.then(function(rslt) {
		console.log(rslt);
		// fill, rslt = Object {timeToPreload: 103, adUrl: "https://cdn-secure.liverail.com/adasset4/1331/229/7969/lo.webm"}
	})
	.fail(function() {
		// no fill
		console.log('no fill')
	});
	player.one('play', function () {
		player.show();
	});
</script>
</body>
</html>
<html lang="en">
<head>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1" />
	<link rel="stylesheet" type="text/css" href="../css/player.css">
</head>
<body layout="column">
	<div class="cell video">
		<div class="container center" id="ad-container1">
		</div>
		<div class="container center" id="ad-container2">
		</div>
	</div>
</div>
<script src="https://sdk.streamrail.com/3762742e-0300-4fc6-a171-9e602bdda709/sr.js"></script>
<script type="text/javascript">

	// events we are interested in capturing
	var events = 
	['AdLoaded',
	'AdStarted',
	'AdVolumeChange',
	'AdImpression',
	'AdVideoStart',
	'AdVideoFirstQuartile',
	'AdVideoMidpoint',
	'AdVideoThirdQuartile',
	'AdVideoComplete',
	'AdClickThru',
	'AdUserClose',
	'AdPaused',
	'AdPlaying',
	'AdError',
	'AdSkipped',
	'AdLoadTimeout'];

	// init the first player
	var player1 = SR('ad-container1', {
		tech: 'html5',
		companion: false,
		autoplay: true,
		width: 778,
		height: 468,
		ads: {
			url: '../sample_files/vast.xml',
			skip: {
				enabled: true,
				btnText: 'Continue',
				seconds: 5
			}
		}
	});

	// listen on all events for for the first player
	events.map(function(x) {
		player1.on(x, function() {
			console.log(x + ' from player ' + player1.sessionID);
		});
	});

	// when the first player shoots the ended event, create a second player in the div beneath
	player1.on('ended', function() {
		var player2 = SR('ad-container2', {
			tech: 'html5',
			companion: false,
			autoplay: true,
			width: 778,
			height: 468,
			ads: {
				url: '../sample_files/vast.xml',
				skip: {
					enabled: true,
					btnText: 'Skip',
					seconds: 3
				}
			}
		});
		// register to all events for the second player
		events.map(function(x) {
			player2.on(x, function() {
				console.log(x + ' from player ' + player2.sessionID);
			});
		});
	});	
</script>
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-54018718-11', 'auto');
	ga('send', 'pageview');
</script>
</body>
</html>
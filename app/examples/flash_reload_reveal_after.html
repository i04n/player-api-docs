<html lang="en">
<head>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1" />
	<style>
		body,html {
			background-color: white;
		}
		.center {
			display: block !important;
			margin: 0 auto;
			width: 778px;
			position: relative !important;
		}
		.main-view {
			background: black;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body layout="column">
	<div class="cell video">
		<button id="btnStart" disabled onclick="playAfterPreload();" style="background:white;color:black;">Preloading...</button>
		<div class="container center" id="ad-container1">
		</div>
	</div>
</div>
<script src="https://sdk.streamrail.com/3762742e-0300-4fc6-a171-9e602bdda709/sr.js"></script>
<script type="text/javascript">
	var player1 =  window.player1 = SR('ad-container1', {
		tech: 'flash',
		companion: false,
		autoplay: true,
		preloadMode: true,
		width: 778,
		height: 468,
		ads: {
			pauseOnClickThrough: true,
			schedule: [{
				position: 'pre-roll',
				server: {
					type: 'direct',
					tag: 'https://ad4.liverail.com/?LR_PUBLISHER_ID=1331&LR_SCHEMA=vast2-vpaid'
				}
			}]
		}
	});
	var orgPosition = $('#ad-container1').css('left');
	$('#ad-container1').css('position', 'absolute').css('left', -100000);

	var events = 
	['AdLoaded',
	'AdStarted',
	'AdVolumeChange',
	'AdImpression',
	'AdVideoStart',
	'AdVideoFirstQuartile',
	'AdVideoMidpoint',
	'AdVideoThirdQuartile',
	'AdVideoComplete',
	'AdClickThru',
	'AdUserClose',
	'AdPaused',
	'AdPlaying',
	'AdError',
	'AdSkipped',
	'AdLoadTimeout'];

	events.map(function(x) {
		player1.on(x, function() {
			console.log(x + ' from player ' + player1.sessionID);
		});
	});

	player1.on('AdLoaded', function() { // ad is preloaded
		$('#btnStart').attr('disabled', false);
		$('#btnStart').text('Start!');
	});

	function playAfterPreload() {
		$('#ad-container1').css('left', orgPosition);
		player1.playPreloaded();
	}

</script>
</body>
</html>